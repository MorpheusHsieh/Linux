How to intall Apache, PHP and MySQL on CentOS 7 (LAMP)

1. Apache

	(1). Install Apache

		a. clean-up yum:

			$ sudo yum clean all

		b. As a matter of best practice we’ll update our packages:

			$ sudo yum -y update

		c. Installing Apache is as simple as running just one command:
	
			$ sudo yum -y install httpd

			
	(2) Allow Apache Through the Firewall
	
		Allow the default HTTP and HTTPS port, ports 80 and 443, through firewalld:

			$ sudo firewall-cmd --permanent --zone=public --add-port=80/tcp

			$ sudo firewall-cmd --permanent --zone=public --add-port=443/tcp

		And reload the firewall:

			$ sudo firewall-cmd --reload

			
	(3) Configure Apache to Start on Boot
	
		And then start Apache:

			$ sudo systemctl start httpd

		Be sure that Apache starts at boot:

			$ sudo systemctl enable httpd

		To check the status of Apache:

			$ sudo systemctl status httpd

		To stop Apache:

			$ sudo systemctl stop httpd

			
	(4) 此時會出現下列的錯誤訊息：
	
		AH00558: httpd: Could not reliably determine the server's fully qualified 
		domain name, using localhost.localdomain. Set the 'ServerName' directive 
		globally to suppress this message.
	

		解決方法：

		a.編輯 /etc/httpd/conf/httpd.conf 檔案，將 ServerName 行的註解取消，
		  並給予伺服器網址名稱 (ex: www.yourwebserver.com)。

			$ vi /etc/httpd/conf/httpd.conf for ServerName
			#.....
			ServerName www.yourwebserver.com:80
			#.....


		b.編輯 /etc/hosts 檔案，加入伺服器網址名稱和真實 IP (x.x.x.x)。

			$ vi /etc/hosts
			127.0.0.1		yourwebserver
			x.x.x.x			www.yourwebserver.com

		c.Restart httpd.

			$ systemctl restart httpd.service
			
			

	
	