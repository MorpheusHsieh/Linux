使用 yum 進行軟體安裝移除與更新


	本文所介紹的 yum 就是針對 rpm 的套件管理工具，
	基本上現今有使用 rpm 做為安裝檔的 Linux 系統都已內建 yum。
	
	雖然 yum 本身是文字介面，但因為其操作非常簡單，
	故強烈建議 rpm based 的 Linux 使用者都應該要學習如何使用 yum。


1. yum 基本觀念操作

	首先，yum 需要網路才能運作（除非經過特別設定），
	因為它必須連到線上的套件伺服器才能獲得資料清單並進行檔案下載。
	
	再來， yum 跟 rpm 指令一樣，需要 root 權限才能操作。
	
	以安裝 VLC 播放軟體為例，以下是基本的操作方式：


	查詢套件（若找到會列出套件的一些資料）：

		# yum search vlc

	
	安裝套件：

		# yum install vlc


	更新套件：

		# yum update vlc

	
	移除套件：

		# yum remove vlc

	
	許多 yum 操作會詢問使用者是否確定執行（y/n），如果希望 yum 自動確定而無須詢問，可加入 -y 參數。例如：

		# yum -y install vlc


	要順利安裝 vlc 這個套件還需要許多其它的套件才行，yum 會自動下載所需的套件並安裝，
	
	這就是它的方便之處。另外 yum 還有兩個較常用的指令：

	
	所有已安裝的套件更新（就是系統更新了）：

		# yum update


	清除所有 yum 快取資料（適用於 yum 異常時）；

		# yum claen all


2. yum 群組指令操作

	許多套件會被設為各個群組（Groups），例如「開發工具」、「桌面環境」、「伺服器」等，
	只要用群租指令就可以把該群組收納的軟體統統裝起來，以下是操作範例：

	列出已知群組（會分為已安裝 Installed 和未安裝 Available）：

		# yum grouplist


		
	群組安裝 LXDE 桌面環境：

		# yum groupinstall "LXDE"


	群組移除：

		# yum groupremove "LXDE"


3. yum 進階設定

	由於網路上的鏡像（mirror）站台眾多，有時候會發生 yum 連結到較慢的站台而導致速度緩慢，
	為了讓 yum 可以自動偵測並連結較快速的站台，請先安裝下列套件：

		# yum install yum-plugin-fastestmirror

	yum 的設定檔是在 /etc/yum.conf，可以在當中寫入一些特別設定，
	例如若希望 yum 預設不更新系統核心（kernel）的話，可寫入以下內容：

		exclude=kernel*


4. 安裝擴充套件庫

	很多時候，桌面使用者所想要的軟體並沒有辦法在 Fedora 的官方套件庫中取得，
	例如前面所提到的 VLC，它其實是由第三方的 RPM Fusion 套件庫所提供，
	因此若要在 Fedora 系統上有良好的桌面體驗，安裝其它的擴充套件庫是必須的工作。
	
	目前已知的 CentOS 的擴充套件庫有 EPEL, RPM Fusion 和 ELRepo。
	
	以 CentOS 7 為例：
	
	# yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
	
	# yum install https://download1.rpmfusion.org/nonfree/el/rpmfusion-nonfree-release-7.noarch.rpm
	
	# rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org
	# rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm


5. 套件搜尋的訣竅

	最後來談，使用者常常會有個問題：「想要安裝某軟體，但是不知道它的套件名稱，
	或者不知道它是由哪個套件庫所提供的，因此不知道該怎麼用 yum 安裝它？」

	第一個方法是 Google，請用「軟體名稱＋系統版本」的方式去搜尋。

	第二個方法是利用 rpm.pbone.net 這個網站搜尋，它可以清楚找出該軟體位於哪個套件庫，
	並且它也可以直接輸入檔案名稱，如此就可知道該檔案是由哪個套件提供。 
